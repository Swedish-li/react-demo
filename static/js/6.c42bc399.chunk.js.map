{"version":3,"sources":["view/intl/locale lazy /^/.//.*/.json$/ groupOptions: {} namespace object","view/intl/index.tsx","components/International.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","Locale","International","props","width","height","viewBox","fill","stroke","strokeWidth","d","strokeLinecap","localNames","EN","JA","ZH_HANS","defaultLocale","defaultMessages","helloWorld","LocaleContext","React","createContext","locale","setLocale","RawLocaleProvider","Provider","LocaleProvider","children","useState","messages","setMessages","useEffect","a","mod","default","changeLocale","onError","err","console","error","value","IconContainer","styled","div","theme","primary","color","LocaleSelect","select","backgroundColor","LocaleOption","option","Card","useContext","onChange","target","k","key","Intl"],"mappings":"kGAAA,IAAIA,EAAM,CACT,YAAa,CACZ,GACA,GAED,iBAAkB,CACjB,GACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBU,EAAED,EAAI,MAGnCX,EAAoBa,KAAO,WAC1B,OAAOC,OAAOD,KAAKd,IAEpBC,EAAoBW,GAAK,GACzBI,EAAOC,QAAUhB,G,mDChBZiB,E,8GCVQC,EAAgB,SAC3BC,GAEA,OACE,6CAAKC,MAAM,MAAMC,OAAO,MAAMC,QAAQ,aAAgBH,GAAtD,aACE,oBAAGI,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAjD,UACE,sBAAMC,EAAE,+EACR,sBACEA,EAAE,kPACFC,cAAc,UAEhB,sBACED,EAAE,yJACFC,cAAc,kB,SDHnBV,K,kBAAAA,E,QAAAA,E,SAAAA,M,KAML,IAAMW,GAAkC,mBACrCX,EAAOY,GAAK,WADyB,cAErCZ,EAAOa,GAAK,sBAFyB,cAGrCb,EAAOc,QAAU,4BAHoB,GAMlCC,EAAgBf,EAAOY,GAEvBI,EAAkB,CACtBC,WAAY,gBAQRC,EAAgBC,IAAMC,cAAiC,CAC3DC,OAAQN,EACRO,UAAW,eAGKC,EAAsBL,EAAhCM,SAEFC,EAAqB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACfC,mBAASZ,GADM,mBACpCM,EADoC,KAC5BC,EAD4B,OAEXK,mBAASX,GAFE,mBAEpCY,EAFoC,KAE1BC,EAF0B,KAkB3C,OAdAC,qBAAU,YACU,uCAAG,4BAAAC,EAAA,yDACfV,IAAWN,EADI,gCAGC,MAAO,YAAYM,EAAnB,UAHD,OAGXW,EAHW,OAIjBH,EAAYG,EAAIC,SAJC,sBAMjBJ,EAAYb,GANK,2CAAH,qDAUlBkB,KACC,CAACb,IAGF,cAAC,IAAD,CACEN,cAAeA,EACfM,OAAQA,EACRO,SAAUA,EACVO,QAAS,SAACC,GACRC,QAAQC,MAAMF,IALlB,SASE,cAACb,EAAD,CACEgB,MAAO,CACLlB,SACAC,aAHJ,SAMGI,KAREL,IAcLmB,EAAgBC,IAAOC,IAAV,sFAGR,qBAAGC,MAAkBC,QAAQC,SAGlCC,EAAeL,IAAOM,OAAV,oHAEP,qBAAGJ,MAAkBC,QAAQC,SAClB,qBAAGF,MAAkBC,QAAQI,mBAI7CC,EAAeR,IAAOS,OAAV,sDACI,qBAAGP,MAAkBC,QAAQI,mBAG7CG,EAAO,WAAO,IAAD,EACaC,qBAAWlC,GAAjCI,EADS,EACTA,UAAWD,EADF,EACEA,OAEnB,OACE,eAAC,IAAD,WACE,cAACmB,EAAD,UACE,cAAC,EAAD,MAEF,cAACM,EAAD,CACEP,MAAOlB,EACPgC,SAAU,SAAC/D,GACT,IAAMiD,EAAQjD,EAAEgE,OAAOf,MACvBjB,EAAUiB,IAJd,SAOG1C,OAAOD,KAAKe,GAAY7B,KAAI,SAACyE,GAC5B,IAAMC,EAAMD,EACZ,OACE,cAACN,EAAD,CAAcV,MAAOgB,EAArB,SACG5C,EAAW6C,IADeD,QAMnC,4BACE,cAAC,IAAD,CAAkB7D,GAAG,qBAcd+D,UARF,WACX,OACE,cAAC,EAAD,UACE,cAAC,EAAD","file":"static/js/6.c42bc399.chunk.js","sourcesContent":["var map = {\n\t\"./ja.json\": [\n\t\t68,\n\t\t9\n\t],\n\t\"./zh-Hans.json\": [\n\t\t69,\n\t\t10\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 61;\nmodule.exports = webpackAsyncContext;","import React, { FC, useEffect, useContext, useState } from \"react\";\nimport {\n  FormattedMessage,\n  //   FormattedNumber,\n  IntlProvider,\n} from \"react-intl\";\nimport styled from \"styled-components\";\nimport { Container } from \"../../components\";\nimport { International } from \"../../components/International\";\n\n// https://github.com/formatjs/formatjs/tree/main/packages/react-intl/examples\n\nenum Locale {\n  ZH_HANS = \"zh-Hans\",\n  JA = \"ja\",\n  EN = \"en\",\n}\n\nconst localNames: Record<Locale, string> = {\n  [Locale.EN]: \"English\",\n  [Locale.JA]: \"日本語\",\n  [Locale.ZH_HANS]: \"简体中文\",\n};\n\nconst defaultLocale = Locale.EN;\n\nconst defaultMessages = {\n  helloWorld: \"Hello World!\",\n};\n\ninterface LocaleContextType {\n  locale: Locale;\n  setLocale: (locale: Locale) => void;\n}\n\nconst LocaleContext = React.createContext<LocaleContextType>({\n  locale: defaultLocale,\n  setLocale: () => undefined,\n});\n// Consumer: LocaleConsumer,\nconst { Provider: RawLocaleProvider } = LocaleContext;\n\nconst LocaleProvider: FC = ({ children }) => {\n  const [locale, setLocale] = useState(defaultLocale);\n  const [messages, setMessages] = useState(defaultMessages);\n\n  useEffect(() => {\n    const changeLocale = async () => {\n      if (locale !== defaultLocale) {\n        // It seems like Webpack is unable to use aliases for lazy imports\n        const mod = await import(`./locale/${locale}.json`);\n        setMessages(mod.default);\n      } else {\n        setMessages(defaultMessages);\n      }\n    };\n\n    changeLocale();\n  }, [locale]);\n\n  return (\n    <IntlProvider\n      defaultLocale={defaultLocale}\n      locale={locale}\n      messages={messages}\n      onError={(err) => {\n        console.error(err);\n      }}\n      key={locale}\n    >\n      <RawLocaleProvider\n        value={{\n          locale,\n          setLocale,\n        }}\n      >\n        {children}\n      </RawLocaleProvider>\n    </IntlProvider>\n  );\n};\n\nconst IconContainer = styled.div`\n  font-size: 5em;\n  margin-bottom: 1rem;\n  color: ${({ theme }) => theme.primary.color};\n`;\n\nconst LocaleSelect = styled.select`\n  font-size: 0.6em;\n  color: ${({ theme }) => theme.primary.color};\n  background-color: ${({ theme }) => theme.primary.backgroundColor};\n  border-radius: 0.2rem;\n`;\n\nconst LocaleOption = styled.option`\n  background-color: ${({ theme }) => theme.primary.backgroundColor};\n`;\n\nconst Card = () => {\n  const { setLocale, locale } = useContext(LocaleContext);\n\n  return (\n    <Container>\n      <IconContainer>\n        <International />\n      </IconContainer>\n      <LocaleSelect\n        value={locale}\n        onChange={(e) => {\n          const value = e.target.value as Locale;\n          setLocale(value);\n        }}\n      >\n        {Object.keys(localNames).map((k) => {\n          const key = k as Locale;\n          return (\n            <LocaleOption value={k} key={k}>\n              {localNames[key]}\n            </LocaleOption>\n          );\n        })}\n      </LocaleSelect>\n      <p>\n        <FormattedMessage id=\"helloWorld\" />\n      </p>\n    </Container>\n  );\n};\n\nconst Intl = () => {\n  return (\n    <LocaleProvider>\n      <Card />\n    </LocaleProvider>\n  );\n};\n\nexport default Intl;\n","import { SVGProps } from \"react\";\n\nexport const International = (\n  props: SVGProps<SVGSVGElement>\n) => {\n  return (\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 48 48\" {...props}>\n      <g fill=\"none\" stroke=\"currentColor\" strokeWidth=\"4\">\n        <path d=\"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4S4 12.954 4 24s8.954 20 20 20z\"></path>\n        <path\n          d=\"M6 30.986c2.632 1.055 4.527 1.055 5.684 0c1.736-1.584.238-6.388 2.67-7.713c2.43-1.325 6.135 4.548 9.597 2.616c3.462-1.933-.326-7.087 2.076-9.176c2.403-2.09 5.527.267 6.073-3.227c.546-3.493-2.548-1.978-3.142-5.28c-.395-2.2-.395-3.357 0-3.47\"\n          strokeLinecap=\"round\"\n        ></path>\n        <path\n          d=\"M29.021 43.35c-1.874-1.918-2.549-3.7-2.024-5.348c.787-2.472 2.086-2.326 2.652-3.854c.566-1.528-1.033-3.705 2.515-5.565c2.366-1.24 5.62.196 9.759 4.311\"\n          strokeLinecap=\"round\"\n        ></path>\n      </g>\n    </svg>\n  );\n};\n"],"sourceRoot":""}